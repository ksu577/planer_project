<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.study.plan.dao.PlanDao">
    <insert id="insertPlan" parameterType="com.study.plan.vo.PlanVo">
        INSERT INTO user_plan ( id
                              , place_num
                              , place_name
                              , xlab
                              , ylab
                              , place_address
                              , start_date
                              , end_date
                              , day_count
                              , place_load_address
                              , plan_hp
                              , plan_title)
        VALUES (
                #{id}
               , place_num_seq.nextval
               , #{placeName}
               , #{xlab}, #{ylab}, #{placeAddress}, #{startDate}
               , #{endDate}, #{dayCount}, #{placeLoadAddress}, #{planHp}
               , #{planTitle}
               )
    </insert>
    <delete id="deletePlan">
        DELETE
        FROM plan
        WHERE
            id = #{id}
        AND
            plan_title = #{title}
    </delete>
    <select id="getPlan" resultType="com.study.plan.vo.PlanVo">
        SELECT
            id
             , place_name
             , xlab
             , ylab
             , place_address
             , start_date
             , end_date
             , day_count
             , place_load_address
             , plan_hp
        , plan_title
        FROM
            user_plan
        WHERE
            id = #{id}
          AND plan_title = #{title}
    </select>
    <select id="planMarkerDao" resultType="com.study.plan.vo.PlanVo">
        SELECT
            id , place_name , xlab
             , ylab , place_address , start_date
             , end_date , day_count , place_load_address , plan_hp , plan_title
        FROM
            user_plan
        WHERE
            id = #{id}
          AND plan_title = #{title}
          AND day_count = #{dayCount}
    </select>
</mapper>