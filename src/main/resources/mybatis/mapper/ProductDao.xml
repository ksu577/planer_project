<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.study.product.dao.ProductDao">

    <resultMap id="productMapper" type="com.study.product.vo.ProductVO">
        <result column="id" property="productId"/>
        <result column="name" property="productName"/>
        <result column="price" property="productPrice"/>
        <result column="product_desc" property="productDesc"/>
        <result column="img" property="img"/>
    </resultMap>


    <!-- 1. 물건 등록   -->
    <insert id="insertproduct">
        insert into product (id, name, price, product_desc, img)
        values (seq_cart.nextval, #{productName}, #{productPrice}, #{productDesc}, #{img})
    </insert>

    <!-- 2. 물건 삭제-->
    <delete id="delete">
        delete
        from product
        where id = #{productId}
    </delete>

    <!--3. 물건 변경-->
    <update id="update">
        update product
        set name         =#{productName}
          , price        =#{productPrice}
          , product_desc =#{productDesc}
          , img          = #{img}
        where id = #{productId}

    </update>

    <!-- 4. 물건 보기 (상세 페이지)   -->
    <select id="getproduct" parameterType="Integer" resultMap="productMapper">
        SELECT id,
               name,
               price,
               product_desc,
               img
        from product
        where id = #{productId}
    </select>

    <select id="getprodList" resultType="com.study.product.vo.ProductVO">
        select  id as product_id,
                name as product_name,
                price as product_price,
                product_desc as product_desc,
                img as img
        from product
        order by name
    </select>

</mapper>